<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover">
    
    <title>Deploying RAG Retail Knowledge Assistant for Product Sales Support with Agent Bricks</title>
    <meta name="description" content="This article demonstrates how to build and deploy a Databricks Agent Bricks knowledge assistant that uses Retrieval Augmented Generation (RAG) to answer complex, real-time product questions from plain text documents, enabling faster, more confident retail customer interactions.">
    <meta name="keywords" content="agent bricks, knowledge assistant, databricks, retail, lakeflow connect, CTAS, python, data pipeline, ETL, workflow automation">
    <meta name="author" content="Josh Patterson">


    <meta property="og:title" content="Deploying RAG Retail Knowledge Assistant for Product Sales Support with Agent Bricks"/>
    <meta property="og:image" content="https://pattersonconsultingtn.com/assets/img/deploy_rag_retail_sales_assist_header_0.jpg"/>
    <meta property="og:url" content="https://pattersonconsultingtn.com/blog/deploying_rag_retail_knowledge_assistant_for_product_sales_support_with_agent_bricks.html"/>
    <meta property="og:site_name" content="Patterson Consulting"/>
    <meta property="og:description" content="This article demonstrates how to build and deploy a Databricks Agent Bricks knowledge assistant that uses Retrieval Augmented Generation (RAG) to answer complex, real-time product questions from plain text documents, enabling faster, more confident retail customer interactions."/>


    <meta name="twitter:title" content="Deploying RAG Retail Knowledge Assistant for Product Sales Support with Agent Bricks" />
    <meta name="twitter:image" content="https://pattersonconsultingtn.com/assets/img/deploy_rag_retail_sales_assist_header_0.jpg" />
    <meta name="twitter:url" content="https://pattersonconsultingtn.com/blog/deploying_rag_retail_knowledge_assistant_for_product_sales_support_with_agent_bricks.html" />
    <meta name="twitter:card" content="summary_large_image" />


    <link rel="manifest" href="/alpha_manifest.json">
    <!--
    <link rel="icon" type="image/png" href="../assets/app-icons/icon-32x32.png" sizes="32x32">
    <link rel="apple-touch-icon" href="../assets/app-icons/icon-180x180.png">
    -->

    <link rel="icon" type="image/png" sizes="16x16" href="../assets/app-icons/pct_box_logo_16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/app-icons/pct_box_logo_32x32.png">
    
        
    
    <script src="../assets/js/theme-switcher.js"></script>

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet" id="google-font">


    <link rel="stylesheet" media="screen" href="../assets/vendor/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" media="screen" href="../assets/vendor/lightgallery/css/lightgallery-bundle.min.css">

    <link rel="stylesheet" media="screen" href="../assets/vendor/aos/dist/aos.css">

    <link rel="stylesheet" href="../assets/icons/around-icons.min.css">

    <link rel="stylesheet" media="screen" href="../assets/css/theme.pct.v2.css">

    <style>
      .page-loading {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100%;
        -webkit-transition: all .4s .2s ease-in-out;
        transition: all .4s .2s ease-in-out;
        background-color: #fff;
        opacity: 0;
        visibility: hidden;
        z-index: 9999;
      }
      [data-bs-theme="dark"] .page-loading {
        background-color: #121519;
      }
      .page-loading.active {
        opacity: 1;
        visibility: visible;
      }
      .page-loading-inner {
        position: absolute;
        top: 50%;
        left: 0;
        width: 100%;
        text-align: center;
        -webkit-transform: translateY(-50%);
        transform: translateY(-50%);
        -webkit-transition: opacity .2s ease-in-out;
        transition: opacity .2s ease-in-out;
        opacity: 0;
      }
      .page-loading.active > .page-loading-inner {
        opacity: 1;
      }
      .page-loading-inner > span {
        display: block;
        font-family: "Inter", sans-serif;
        font-size: 1rem;
        font-weight: normal;
        color: #6f788b;
      }
      [data-bs-theme="dark"] .page-loading-inner > span {
        color: #fff;
        opacity: .6;
      }
      .page-spinner {
        display: inline-block;
        width: 2.75rem;
        height: 2.75rem;
        margin-bottom: .75rem;
        vertical-align: text-bottom;
        background-color: #d7dde2; 
        border-radius: 50%;
        opacity: 0;
        -webkit-animation: spinner .75s linear infinite;
        animation: spinner .75s linear infinite;
      }
      [data-bs-theme="dark"] .page-spinner {
        background-color: rgba(255,255,255,.25);
      }
      @-webkit-keyframes spinner {
        0% {
          -webkit-transform: scale(0);
          transform: scale(0);
        }
        50% {
          opacity: 1;
          -webkit-transform: none;
          transform: none;
        }
      }
      @keyframes spinner {
        0% {
          -webkit-transform: scale(0);
          transform: scale(0);
        }
        50% {
          opacity: 1;
          -webkit-transform: none;
          transform: none;
        }
      }

      .todo_edit { 
        color: #ff0000;
       }
    </style>

    <script>
      (function () {
        window.onload = function () {
          const preloader = document.querySelector('.page-loading')
          preloader.classList.remove('active')
          setTimeout(function () {
            preloader.remove()
          }, 1500)

          const theme = 'light'
          document.documentElement.setAttribute('data-bs-theme', theme)
          

        }
      })()
    </script>

    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-N6H6PTM9');</script>
    </head>


  <body>


    <div class="page-loading active">
      <div class="page-loading-inner">
        <div class="page-spinner"></div>
        <span>Loading...</span>
      </div>
    </div>


    <main class="page-wrapper">

      <header data-bs-theme="light">
        <div class="navbar navbar-expand-lg fixed-top bg-light">
          <div class="container">

            <a class="navbar-brand pe-sm-3" href="../../index.html">
              <span class="text-primary flex-shrink-0 me-2">
                <svg width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">
                  <g transform="matrix(0.004459, 0, 0, -0.00433, -8154.369629, -2022.807495)" fill="#000000" stroke="none" style="transform-origin: 8189.37px 2055.78px;">
  <path d="M340 9410 l0 -260 1348 0 c807 0 1370 -4 1403 -9 30 -6 101 -15 159
-21 177 -19 447 -88 605 -155 242 -103 389 -186 553 -310 124 -94 287 -257
390 -390 26 -34 100 -148 140 -215 214 -362 327 -901 282 -1345 -11 -115 -47
-341 -58 -362 -5 -10 -14 -45 -21 -78 -7 -33 -16 -64 -20 -70 -4 -5 -13 -30
-20 -55 -7 -25 -19 -58 -26 -75 -70 -160 -92 -205 -132 -277 -45 -80 -161
-257 -189 -288 -8 -8 -33 -37 -56 -65 -60 -71 -200 -208 -277 -270 -88 -70
-241 -175 -258 -175 -7 0 -13 -3 -13 -8 0 -11 -304 -162 -326 -162 -3 0 -20
-7 -37 -14 -45 -21 -210 -74 -254 -82 -21 -4 -45 -10 -55 -15 -9 -5 -72 -18
-140 -30 -67 -12 -145 -26 -173 -31 -29 -6 -359 -12 -782 -15 l-733 -4 0
-1175 0 -1174 3270 0 3270 0 0 3695 0 3695 -3925 0 -3925 0 0 -260z" style="fill: rgb(255, 149, 0);"></path>
  <path d="M1650 6884 l0 -1096 648 4 647 4 120 28 c66 16 125 32 130 36 6 4 28
13 50 20 53 17 129 56 179 92 23 16 52 36 66 46 86 60 201 201 261 322 84 168
109 281 116 525 7 251 -18 402 -97 580 -56 126 -184 280 -295 355 -27 18 -62
42 -77 52 -15 10 -29 18 -32 18 -3 0 -30 11 -60 25 -30 14 -61 25 -68 25 -7 1
-31 8 -53 16 -101 37 -228 44 -892 44 l-643 0 0 -1096z" style="fill: rgb(255, 149, 0);"></path>
</g>



                </svg>
              </span>
              Patterson Consulting
            </a>


            <a class="btn btn-primary btn-sm fs-sm order-lg-3 d-none d-sm-inline-flex" href="../../contact_us.html" target="_blank" rel="noopener">
              <i class="fs-xl me-2 ms-n1"></i>
              Contact Us
            </a>

            <button class="navbar-toggler ms-sm-3" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            <nav class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav navbar-nav-scroll me-auto" style="--ar-scroll-height: 520px;">


                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false">Industries</a>
                  <ul class="dropdown-menu">
                    
                    <li><a class="dropdown-item" href="../retail_industry.html">Retail</a></li>
                    <li><a class="dropdown-item" href="../insurance_industry.html">Insurance</a></li>
                    <li><a class="dropdown-item" href="../municipal_industry.html">Smart City</a></li>

                  </ul>
                </li>


                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Engineering Services</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="../offerings/migrations_to_databricks.html">Migration to Databricks</a></li>
                    <li><a class="dropdown-item" href="../platform_engineering.html">Platform Engineering</a></li>
                    <li><a class="dropdown-item" href="../data_engineering.html">Data Engineering</a></li>
                    <li><a class="dropdown-item" href="../generative_ai.html">GenAI Services</a></li>
                    </ul>

                </li>

                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Resources</a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="../blog/blog_index.html">Blog</a></li>
                    <li><a class="dropdown-item" href="../publications.html">Team Publications</a></li>
                    <li><a class="dropdown-item" href="../index.html#case_studies">Case Studies</a></li>
                    <li><a class="dropdown-item" href="https://www.youtube.com/channel/UCmaki2Xq1AeFL8XbWGIWyQg">Videos</a></li>
                  </ul>

                </li>

                <li class="nav-item">
                  <a class="nav-link" href="../about.html">About</a>
                </li>
              </ul>
            </nav>

          </div>
        </div>
      </header>


      <section class="container py-5 mt-5 mb-md-2 mb-lg-3 mb-xl-4">

        <nav aria-label="breadcrumb">
          
          <ol class="pt-lg-3 pb-lg-4 pb-2 breadcrumb">
            <li class="breadcrumb-item"><a href="">Home</a></li>
            <li class="breadcrumb-item"><a href="../">Blog Index</a></li>
            <li class="breadcrumb-item active" aria-current="page">Deploying RAG Retail Knowledge Assistant for Product Sales Support with Agent Bricks</li>
          </ol>
          
        </nav>

        <h1 class="display-4 text-left pb-2 pb-lg-3">Deploying RAG Retail Knowledge Assistant for Product Sales Assistance with Agent Bricks</h1>

        <div class="d-flex flex-wrap align-items-center justify-content-between border-bottom mb-4">
              <div class="d-flex align-items-center mb-4 me-4">
                <span class="fs-sm me-2">By:</span>
                <a class="nav-link position-relative fw-semibold p-0" href="#author" data-scroll data-scroll-offset="80">
                  Josh Patterson
                  <span class="d-block position-absolute start-0 bottom-0 w-100" style="background-color: currentColor; height: 1px;"></span>
                </a>
              </div>

            </div>

      </section>


      <section class="jarallax" data-jarallax data-speed=".65">
        <div class="jarallax-img bg-position-center-y" style="background-image: url(../assets/img/deploy_rag_retail_sales_assist_header_0.jpg);"></div>
        <div class="d-none d-xxl-block" style="height: 600px;"></div>
        <div class="d-none d-xl-block d-xxl-none" style="height: 650px;"></div>
        <div class="d-none d-lg-block d-xl-none" style="height: 500px;"></div>
        <div class="d-none d-md-block d-lg-none" style="height: 400px;"></div>
        <div class="d-md-none" style="height: 300px;"></div>
      </section>


      <section class="container pt-5 mt-md-2 mt-lg-3 mt-xl-4">
        <div class="row justify-content-center pt-xxl-2">
          <div class="col-lg-9 col-xl-8">
            
           
<!--
           <p class="fs-lg">

A shopping experience can be won or lost based on the quick interactions on the floor with customers. Sometimes a customer has a question about a product that may involve a specific scenario, constraint, or other criteria that is not printed on the consumer packaging. To compete in the next era of retail companies need to further lower information transformation barriers such that most product information is available nearly instantly. Further, this information needs to be combined with reasoning on the fly to better answer complex questions that customers may have on the floor, things that a sales associate may be hard pressed to answer off the cuff.
          </p>

          <p class="fs-lg">

            This is why next generation retail companies such as Big Cloud Dealz are using platforms such as Databrick's Agent Bricks to quickly deploy real-time sales knowledge assistants that are easily accessible through text interfaces. These text-based conversational interfaces can be as simple a phone number the sales person can send SMS messages to and get any product questions answered.


          </p>


           <p class="fs-lg">

A conversational text interface gives a sales associate instant access to accurate product details—pricing, availability, specs, and alternatives—without leaving the customer’s side. This speeds up customer interactions, reduces lookup friction, and turns product knowledge into real-time sales confidence on the retail floor.

           </p>          
-->
           <p class="fs-lg">

            A shopping experience can be won or lost in moments on the sales floor. Customers often ask nuanced questions that go beyond what’s printed on packaging, requiring instant, accurate answers. Next-generation retailers like Big Cloud Dealz are using Databricks’ Agent Bricks to deploy real-time sales knowledge assistants accessible through simple text interfaces—sometimes just an SMS number. These conversational tools give sales associates immediate access to product details, pricing, availability, and specs, transforming product knowledge into faster, more confident customer interactions.



           </p>

           <p class="fs-lg">

            In this article I show you how to deploy an Agent Bricks knowledge assistant agent that can answer complex questions using many plain text product information documents as the source knowledge. Foundationally, under the hood, this is a form of "retrieval augmented generation" (RAG) coupled with large language model reasoning.


           </p>

           <h2 class="h2 mb-lg-4 pt-3 pt-md-4 pt-xl-5">What is Retrieval Augmented Generation (RAG)?</h2>
           <p class="fs-lg ">

Retrieval Augmented Generation (RAG) is an approach that gives large language models access to live, external knowledge so they can deliver more accurate, current, and business-specific answers. Instead of relying only on what a model learned during training, RAG retrieves the most relevant data from trusted sources—such as internal systems, reports, or market feeds—and injects that information into the model’s reasoning process. This “retrieval” step is what transforms a static model into a dynamic decision-support tool: it can pull the latest sales figures, policy data, or customer interactions before generating a response.



           </p>

           <p class="fs-lg">

This means AI systems can finally reason with context — answering questions or making recommendations based on the most up-to-date information from across the enterprise. Retrieval ensures that insights stay grounded in reality, not stale training data, enabling more confident decisions in operations, finance, and customer strategy.

           </p>

           <h2 class="h3 mb-lg-4 pt-3 pt-md-4 pt-xl-5">Reasoning Over Plain Text Documents</h2>


           <p class="fs-lg">

            In our previous Agent Bricks article, its worth noting how we <a href="retail_decision_intelligence_with_agent_bricks.html" target="_blank">used a Genie space as our knowledge source</a>. In this project we're building an agent similar to that Genie space but this time instead of querying Delta tables this agent is querying a volume of files' contents to find the correct text information.

           </p>

           <p class="fs-lg">

            The data this time is contained in raw text flat files where each file contains a product description, warranty, and usage guidelines per file. An example file contents are shown below.



           </p>

<pre class="line-numbers mt-5 mb-5">
<code class="language-markdown">
**Product Summary: Thompson’s WaterSeal Advanced Natural Wood Protector**

product_id: 1002_00007

---

**Product Overview**
*Thompson’s WaterSeal Advanced Natural Wood Protector* is a high-performance *Wood Sealer* designed for landscaping professionals and outdoor surface specialists who demand reliable, long-lasting protection against moisture and UV damage. Formulated to enhance the natural beauty of wood while extending its lifespan, this product creates an invisible, breathable barrier that resists water penetration, mildew, and fading. Ideal for decks, fences, pergolas, outdoor furniture, and wooden structures exposed to the elements, the Advanced Natural Wood Protector ensures a clean, natural finish that highlights the wood’s grain without altering its appearance.

---

**Key Features and Benefits**

* **Advanced Water Repellency:** Forms a durable, hydrophobic barrier that repels water on contact, preventing cracking, warping, and splitting.
* **UV Protection:** Guards against sun-induced fading and discoloration, preserving the wood’s natural tone.
* **Mildew & Mold Resistance:** Inhibits fungal growth on the surface, helping maintain clean, low-maintenance wood.
* **Natural Look Finish:** Dries clear to showcase the wood’s grain and texture—ideal for clients who prefer an authentic, unstained appearance.
* **One-Coat Protection:** Delivers full coverage and weatherproofing in a single application, saving time and labor on large outdoor projects.
* **Quick Drying Formula:** Ready for light use in as little as 24 hours, depending on humidity and temperature.

---

**Technical Specifications**

* **Product Type:** Exterior Wood Sealer
* **Category:** Paints & Coatings
* **Brand:** Thompson’s WaterSeal
* **Unit Weight:** 7.9 lbs per gallon
* **Unit Cost:** $13.40
* **Suggested Retail Price:** $26.99
* **Coverage:** 150–250 sq. ft. per gallon, depending on wood type and porosity
* **Dry Time:** Touch-dry in 2 hours; fully cured in 24–48 hours
* **Recommended Application Temperature:** 50°F–90°F (10°C–32°C)
* **Finish:** Clear, natural look

---

**Surface Preparation and Application**

1. **Preparation:** Clean wood surfaces thoroughly to remove dirt, mildew, oil, and previous coatings. Use Thompson’s Wood Cleaner for optimal results. Allow the wood to dry completely before sealing (typically 48 hours after cleaning).
2. **Application:** Stir well before and during use. Apply using a brush, roller, pump sprayer, or pad applicator. Work along the grain and avoid pooling. Do not apply if rain is expected within 24 hours.
3. **Cleanup:** Clean tools and equipment immediately with soap and water. Dispose of excess product according to local environmental guidelines.
4. **Maintenance:** Reapply every 2–3 years, or when water no longer beads on the surface. Regular maintenance ensures continued protection and appearance.

---

**Safety and Environmental Information**

* **CAUTION:** Keep out of reach of children.
* Avoid contact with eyes and prolonged skin exposure.
* Use only with adequate ventilation. Do not apply indoors.
* Do not pour unused sealer into drains or waterways.
* Complies with U.S. EPA VOC requirements for exterior wood finishes.
* Store tightly closed in a cool, dry place, away from direct sunlight or freezing conditions.

---

**Warranty and Support**
Thompson’s WaterSeal guarantees satisfaction when used according to label directions. If performance issues occur, contact customer service for replacement or refund. For technical assistance, detailed instructions, or safety data sheets, visit [www.thompsonswaterseal.com](https://www.thompsonswaterseal.com) or call 1-800-367-6297.

---

**Intended Audience:** Professional landscapers, outdoor maintenance contractors, and property managers seeking a dependable, clear wood sealer that delivers superior protection, easy application, and lasting natural beauty for exterior wooden structures.
</code>
</pre>

           <p class="fs-lg">

            One thing "GenAI Agents" (e.g., LLMs) are good at is helping you reason over the right information with business rules and context and figure out what is important quickly. The RAG-part of things just injects the right context into the large language model prompt to ground answers in relevant facts. However, building these agents can be complex and involve platform engineering. To make this easy, we're going to use the Databricks Agent Bricks platform to build and deploy our agent.

           </p>


           <h2 class="h2 mb-lg-4 pt-3 pt-md-4 pt-xl-5">Agent Bricks</h2>


           <p class="fs-lg">
            The technical advantage of Databricks Agent Bricks lies in how it collapses months of complex AI system engineering into a governed, production-ready platform that runs natively in the lakehouse. Traditionally, standing up an enterprise-grade assistant required stitching together multiple components — vector databases, embedding models, chunking logic, role-based access, and feedback systems — all of which demanded deep MLOps expertise and constant tuning. 

           </p>
           <p class="fs-lg">
            Agent Bricks abstracts that complexity, allowing organizations to deploy intelligent assistants directly on their structured and unstructured data within hours, not months, while maintaining full governance through Unity Catalog. This means CTOs and COOs can focus engineering resources on business-aligned data quality and workflow integration rather than infrastructure, gaining secure, scalable, and compliant access to enterprise knowledge — with the same lineage, access controls, and auditability that already govern their lakehouse.

           </p>           

           <p class="fs-lg">
The Databricks Agent platform gives enterprises a unified way to build and manage AI assistants directly on their governed data. Because it runs within the Databricks Lakehouse, every agent has secure access to accurate, up-to-date information across departments — from sales to operations — without data silos or duplication. Business users can simply ask questions in natural language and get reliable answers backed by enterprise governance, lineage, and audit controls. For management, this means faster insights, more consistent decisions, and an AI platform that scales safely across the organization.
</p>
<!--
           <p class="fs-lg todo_edit">

            In this post I'm going to show you how to accelerate your retail logistics decision intelligence by using LLMs with Agent Bricks to analyze structured infromation from your data lakehouse. This method directly improves your managements' ability to process information faster and get to the right decision more quickly, <a href="../content/hitchhikers_guide_kw/how_technology_investment_enables_growth.html">making the company more competitive within its market</a>.

           </p>           
-->

           <h2 class="h2 mb-lg-4 pt-3 pt-md-4 pt-xl-5">Deploying Agents Faster with AgentBricks</h2>


           <p class="fs-lg">

            We start out by clicking on the Agent Bricks button on the left side toolbar as shown in the image below.

           </p>


          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 400px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/agentbricks_toolbar_button.png" alt="Image">

          </div>    

           <p class="fs-lg">

            From there we'll be presented with a list of Agent Bricks templates for different types of projects. For this project we are going to select the <code>Knowledge Assistant</code> project type, as shown in the image below.

           </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 400px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_card.png" alt="Image">

          </div>    

          <h2 class="h3 mb-lg-4 pt-3 pt-md-4 pt-xl-5">Design Notes for Our Knowledge Assistant System</h2>


           <p class="fs-lg">

            We're using the <code>Knowledge Assistant</code> project type here because we want to map metadata terms to types of data sources and then allow the agent to select the right data source and then use an embedding to query for the correct document or document fragment in the data source. Once the agent has the relevent text information, it can then inject this text passage into a final prompt to answer the original question asked.

           </p>






            <div class="card bg-primary bg-opacity-10 border-0 overflow-hidden pt-1 pt-xl-2 px-lg-2 px-xl-4 mb-5 mt-5">
              <div class="card-body position-relative z-2 pb-0">
                <h3 class="h4 card-title text-primary">Keeping the Main Thing the Main Thing</h3>

                <p class="pb-sm3 pb-md-4 mb-2">
The interesting thing about Agent Bricks is that we can use these other spaces and agents as "building blocks" in multi-agent systems to compose systems that can complete more complex multi-step problems.    



                </p>

                <p class="pb-sm3 pb-md-4 mb-2">

                  This is something to keep in mind when building agents, because you never want to try and do "too much" in a single agent --- but instead build specific-purpose agents and then orchestrate them together with the <code>Multi-Agent Supervisor</code>.        

                </p>



              </div>
            </div>



           <p class="fs-lg">



           </p>


          <p class="fs-lg">

            With that in mind, let's get down to building out our <code>Knowledge Assistant</code> agent.


          </p>


           <h2 class="h3 mb-lg-4 pt-3 pt-md-4 pt-xl-5">Knowledge Assistant Basic Info</h2>


           <p class="fs-lg">

            LLM-based systems use text labels to make a decision between N different options as what to use next in a chain of steps. Agent Bricks uses LLMs under the hood to examine your configurations decorated with metadata to reason about how to use the resources provided in an efficient way to solve the problem.

           </p>

           <p class="fs-lg">

            This means that filling in metadata is a key step in configuring any LLM-based system.



           </p>

           <p class="fs-lg">

            In the screenshot below you can see how to name the application (<code>LogisticsDecisionIntelligenceAnalyst</code>) and then provide a description about where and how (e.g., the situation) the agent should be used. 



           </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_basic_info.png" alt="Image">

          </div>    


           <p class="fs-lg">

          You should be verbose here, but you don't need to put all instructions as there are other configuration fields to tell your system how to act and respond to data and context. Let's move on to adding sub-agents that do the actual steps of your workflow.

          </p>





           <h2 class="h3 mb-lg-4 pt-3 pt-md-4 pt-xl-5">Configure Document Sources</h2>


           <p class="fs-lg">

            A good mental model of how the <code>knowledge assistant</code> project type in Agent Bricks works is to think of the <code>knowledge assistant</code> as a domain expect that can quickly and semantically search through large amounts of textual information and retrieve only the relevant portions of information. The <code>knowledge assistant</code> then injects this relevant text information into a prompt with the original question and the large language model reasons over it, <b>producing an answer to the original question that is grounded in the correct facts</b>.
           </p>




           <p class="fs-lg">

            For this project we're going to focus on the <code>UC Files</code> type of knowledge source to power this agent.

           </p>

           <p class="fs-lg">

            Make sure and add a brief description to the knowledge source because this is how you're agent will evaluate whether to use this knowledge source in a specific type of question. This is especially helpful when you have multiple knowledge sources attached to a single agent, helping them to know which one to use per question. You can see the Configure Knowledge Source panel in the image below.



          </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_configure_sources.png" alt="Image">

          </div>    




           <p class="fs-lg">

            Click the "Select Source" drop down and you should navigate to the volume you uploaded your product information files into. Your view should look similar to image below.

           </p>


          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_uc_files_selection.png" alt="Image">

          </div>    




           <p class="fs-lg">

            Select the parent directory of the files, and now we have our first knowledge source configured and ready to go.

           </p>

           <p class="fs-lg">

            The last step before we save and deploy this knowledge assistant agent is to add any prompt instructions that will be used in the step where the retrieved contextual data is processed with the specific question. In the image below you can see where we instructured the large language model to be "brief and concise".

           </p>



          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_instructions_0.png" alt="Image">

          </div>   



           <p class="fs-lg">

            Hit the "Create Agent" button and it should take 2-3 minutes for the agent to be deployed as a MLFlow endpoint in your Databricks workspace.

           </p>


           <p class="fs-lg">

              Now that we have a handy retail product sales assistant, let's run some tests and see how it does.
           </p>           

           <h2 class="h2 mb-lg-4 pt-3 pt-md-4 pt-xl-5">Testing the Knowledge Assistant</h2>

           <p class="fs-lg">

            In the playground area to the right, let's try the following question as seen in the image below.


           </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_retail_test_q1.png" alt="Image">

          </div>    


           <p class="fs-lg">

            So this is a direct question and if this agent is any good at all, it definitely should locate the specific product and warranty information needed --- if its worth anything at all. If you'll remember above, our sample product information had this specific product information and warranty information as seen in the shorten snippet below.

           </p>



<pre class="line-numbers mt-5 mb-5">
<code class="language-markdown">
**Product Summary: Thompson’s WaterSeal Advanced Natural Wood Protector**

product_id: 1002_00007

...

---

**Warranty and Support**
Thompson’s WaterSeal guarantees satisfaction when used according to label directions. If performance issues occur, contact customer service for replacement or refund. For technical assistance, detailed instructions, or safety data sheets, visit [www.thompsonswaterseal.com](https://www.thompsonswaterseal.com) or call 1-800-367-6297.

---

</code>
</pre>



           <p class="fs-lg">

              The handy thing about the Agent Bricks playground is that it gives us debug information about "how the agent reasoned to its answer" if we "Thoughts" button (much like a bubble above a cartoon character's head).
           </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_retail_test_q1_thoughts.png" alt="Image">

          </div>    


           <p class="fs-lg">

            Looks interesting --- so now let's check out the final answer, as shown below.

           </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_retail_test_q1_answer.png" alt="Image">

          </div>    

           <p class="fs-lg">

            Outside of a HMTL-formatting issue in the UX, that answer matches what you'd logically expect after asking someone the same question and having them read the product warranty in the product instruction manual. So we'll call that a correct answer and a "win" for our product sales knowledge assistant.

           </p>

           


           <p class="fs-lg">

            So let's ask it one more question just to make sure that wasn't a fluke. This time I'm going to ask it about another product in the text files and I'm going to ask it a "common sense"-type question just to see what it will do. The question is seen in the image below.

           </p>



          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_retail_test_q3.png" alt="Image">

          </div>    




           <p class="fs-lg">

              Again, we can check out its thought process if we click on the "Thoughts" button, as shown below.
           </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_retail_test_q3_thoughts.png" alt="Image">

          </div>    


           <p class="fs-lg">

            So, the agent got the correct product data and answered the question correctly. It also gets bonus points for not getting tricked by such a silly common sense question, as you can see in the answer below.

           </p>

          <div class="hotspots mx-auto mt-5 mb-5" style="max-width: 1200px;">
            <img class="d-block img-thumbnail rounded-0" src="../assets/img/dbx_agentbricks_knowledge_assistant_retail_test_q3_answer.png" alt="Image">

          </div>    

           <p class="fs-lg">

            To validate that the agent looked at the correct text file to find the section of text, you can always click on the "source"-buttons embedded in the answer and it will send you the source file as a download. This allows you to manually check the source text so that you can compare it to the generated answer.


           </p>



















           <h2 class="h2 mb-lg-4 pt-3 pt-md-4 pt-xl-5">The Building Blocks of Faster Organizational Intelligence</h2>


           <p class="fs-lg">

            In this article we showed you how to build a knowledge assistant agent that could help a sales person on the floor quickly quickly answer real-time detailed and nuanced questions about any product in the company.

          </p>

          <p class="fs-lg">

            This enhances the Big Cloud Dealz customer experience and allows shoppers to more effectively find the right product for their needs.

          </p>

          <p class="fs-lg">

            This is another building block of the <b>decision intelligence</b> system that Big Cloud Dealz is putting together, as we'll see in future Agent Bricks posts in this series.

          </p>




          </div>
        </div>
      </section>



      <section class="container pt-5 mt-md-2 mt-lg-3 mt-xl-4">


            
            <div class="d-flex flex-wrap pb-5 pt-3 pt-md-4 pt-xl-5 mt-xl-n2 pl-3">
              <h3 class="h3 py-1 mb-0 me-4">Next in Series</h3>
            </div>



                  <div class="card overflow-hidden mb-4">
                    <div class="row g-0">
                      <div class="col-sm-4 bg-repeat-0 bg-size-cover" style="background-image: url(../assets/img/data_platform_migration_nov_2024.jpg); min-height: 14rem;"></div>
                      <div class="col-sm-8">
                        <div class="card-body">
                          <h4 class="card-title">Connecting to Your Claims Data Model from Azure PowerBI</h4>
                          <p class="card-text">Quickly using your claims data models in a Power BI dashboard with the Cube connector.</p>
                          
                <a class="btn btn-lg btn-link px-0" href="javascript:alert('coming soon');">
                  Read next article in series
                  <i class="ai-arrow-right ms-2"></i>
                </a>

                        </div>
                      </div>
                    </div>
                  </div>

      </section>
   




    </main>

    

  <footer class="footer py-5 bg-dark" data-bs-theme="dark">
      <div class="container pt-md-2 pt-lg-3 pt-xl-4">
        <div class="row pb-5 pt-sm-2 mb-lg-2">
          <div class="col-md-4 col-lg-3 pb-2 pb-md-0 mb-4 mb-md-0">


            <a class="navbar-brand pe-sm-3" href="/index.html">
              <span class="text-primary flex-shrink-0 me-2">
                <svg width="35" height="32" viewBox="0 0 36 33" xmlns="http://www.w3.org/2000/svg">

                  <g transform="matrix(0.004459, 0, 0, -0.00433, -8154.369629, -2022.807495)" fill="#000000" stroke="none" style="transform-origin: 8189.37px 2055.78px;">
                    <path d="M340 9410 l0 -260 1348 0 c807 0 1370 -4 1403 -9 30 -6 101 -15 159
                  -21 177 -19 447 -88 605 -155 242 -103 389 -186 553 -310 124 -94 287 -257
                  390 -390 26 -34 100 -148 140 -215 214 -362 327 -901 282 -1345 -11 -115 -47
                  -341 -58 -362 -5 -10 -14 -45 -21 -78 -7 -33 -16 -64 -20 -70 -4 -5 -13 -30
                  -20 -55 -7 -25 -19 -58 -26 -75 -70 -160 -92 -205 -132 -277 -45 -80 -161
                  -257 -189 -288 -8 -8 -33 -37 -56 -65 -60 -71 -200 -208 -277 -270 -88 -70
                  -241 -175 -258 -175 -7 0 -13 -3 -13 -8 0 -11 -304 -162 -326 -162 -3 0 -20
                  -7 -37 -14 -45 -21 -210 -74 -254 -82 -21 -4 -45 -10 -55 -15 -9 -5 -72 -18
                  -140 -30 -67 -12 -145 -26 -173 -31 -29 -6 -359 -12 -782 -15 l-733 -4 0
                  -1175 0 -1174 3270 0 3270 0 0 3695 0 3695 -3925 0 -3925 0 0 -260z" style="fill: rgb(255, 149, 0);"></path>
                    <path d="M1650 6884 l0 -1096 648 4 647 4 120 28 c66 16 125 32 130 36 6 4 28
                  13 50 20 53 17 129 56 179 92 23 16 52 36 66 46 86 60 201 201 261 322 84 168
                  109 281 116 525 7 251 -18 402 -97 580 -56 126 -184 280 -295 355 -27 18 -62
                  42 -77 52 -15 10 -29 18 -32 18 -3 0 -30 11 -60 25 -30 14 -61 25 -68 25 -7 1
                  -31 8 -53 16 -101 37 -228 44 -892 44 l-643 0 0 -1096z" style="fill: rgb(255, 149, 0);"></path>
                  </g>

                </svg>
              </span>
              <span class="text-light">
              Patterson Consulting
              </span>
            </a>    

            <p class="fs-sm pb-2 pb-md-3 mb-3 text-light">Delivering data pipelines, analytics, and large language model applications.</p>
            <div class="d-flex gap-3">
              <a class="btn btn-icon btn-sm btn-secondary btn-linkedin rounded-circle" href="https://www.linkedin.com/company/patterson-consulting-tn/" aria-label="LinkedIn">
                <i class="ai-linkedin"></i>
              </a>
            </div>
          </div>
          <div class="col-md-8 col-lg-7 col-xl-6 offset-lg-2 offset-xl-3">
            <div class="row row-cols-1 row-cols-sm-3">
              <div class="col mb-4 mb-md-0">
              </div>
              <div class="col mb-4 mb-md-0">

              </div>
              <div class="col mb-4 mb-md-0">
                <h4 class="h6 fw-bold pb-lg-1">Company</h4>
                <ul class="nav flex-column">
                  <li><a class="nav-link fw-normal py-1 px-0" href="/contact_us.html">Contact Us</a></li>
                  <li><a class="nav-link fw-normal py-1 px-0" href="/blog/blog_index.html">Blog</a></li>
                  <li><a class="nav-link fw-normal py-1 px-0" href="/index.html#case_studies">Case Studies</a></li>
                  <li><a class="nav-link fw-normal py-1 px-0" href="/publications.html">eBooks</a></li>
                  <li><a class="nav-link fw-normal py-1 px-0" href="https://www.youtube.com/channel/UCmaki2Xq1AeFL8XbWGIWyQg">Videos</a></li>
                  <li><a class="nav-link fw-normal py-1 px-0" href="/about.html">About</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <p class="nav fs-sm mb-0">
          <span class="text-body-secondary">© All rights reserved. Made by</span>
          <a class="nav-link fw-normal p-0 ms-1" href="https://www.pattersonconsultingtn.com/" target="_blank" rel="noopener">Patterson Consulting</a>
        </p>
      </div>
    </footer>    


    <a class="btn-scroll-top" href="#top" data-scroll aria-label="Scroll back to top">
      <svg viewBox="0 0 40 40" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="20" r="19" fill="none" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10"></circle>
      </svg>
      <i class="ai-arrow-up"></i>
    </a>


    <script src="../assets/vendor/jarallax/dist/jarallax.min.js"></script>
    <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
    


    <script src="../assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="../assets/vendor/lightgallery/lightgallery.min.js"></script>


    <script src="../assets/vendor/lightgallery/plugins/fullscreen/lg-fullscreen.min.js"></script>
    <script src="../assets/vendor/lightgallery/plugins/zoom/lg-zoom.min.js"></script>
    <script src="../assets/vendor/lightgallery/plugins/video/lg-video.min.js"></script>
    <script src="../assets/vendor/lightgallery/plugins/thumbnail/lg-thumbnail.min.js"></script>



    <script src="../assets/js/theme.min.js"></script>
  </body>
</html>
